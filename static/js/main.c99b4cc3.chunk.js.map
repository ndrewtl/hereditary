{"version":3,"sources":["utils/util.ts","components/Tree.tsx","components/ConfigEditor.tsx","components/App.tsx","index.tsx"],"names":["url","a","fetch","response","text","load","PersonSVG","person","radius","reignColors","name","country","reign","x","y","id","useMemo","replaceAll","r","cx","cy","href","join","process","height","clipPath","stroke","none","strokeWidth","fillOpacity","textAnchor","strokeOpacity","fill","fontSize","PersonLinkSVG","link","x1","source","y1","x2","target","y2","Tree","data","people","colors","config","width","countries","before","since","useState","forceSimulation","stop","simulation","nodes","setNodes","links","setLinks","drag","setDrag","useEffect","selectedPeople","filter","born","has","computedLinks","flatMap","result","mother","find","p","push","father","force","forceManyBody","strength","forceLink","d","earliestYear","latestYear","alpha","forEach","node","position","vy","initialize","inputNodes","Math","min","map","max","newVal","ageOrdering","forceX","alphaTarget","restart","on","style","border","onMouseMove","e","offsetX","offsetY","fx","clientX","fy","clientY","onMouseUp","onMouseLeave","onMouseDown","cursor","ConfigEditor","submitConfig","countryList","uniq","sort","setCountries","setBefore","setSince","Row","Col","Form","Label","Check","type","label","checked","onChange","delete","add","Set","InputGroup","hasValidation","Control","value","event","Number","undefined","Text","Button","variant","onClick","defaultConfig","App","setConfig","Container","promiseFn","fetchData","Fulfilled","Accordion","marginBottom","defaultActiveKey","Item","eventKey","Header","Body","Loading","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c99b4cc3.chunk.js","sourcesContent":["/*\n * This file houses miscellaneous utility functions\n * Over time, as more functions are added, natural classifications of these functions should\n * arrive and they should be decomposed into more specific files.\n */\n\nimport { Force } from 'd3';\nimport { load } from 'js-yaml';\nimport { Person, PersonLink, DataSchema } from './types';\n\n/**\n * This is a force that causes nodes to gravitate toward the correct time\n * When affected by this force, a Person 'falls' toward the height that (proportionally)\n * represents the year of their birth\n * @param {number} height - the height of the viewBox\n * @param {strength} strength - the strength of the force\n * @return {Force<Person, PersonLink>} a force that causes each person to be attracted\n * along the y-axis toward the year of their birth\n */\nexport function ageOrdering(height: number, strength: number = 0.1): Force<Person, PersonLink> {\n  let nodes: Person[];\n  let earliestYear: number;\n  let latestYear: number;\n\n  const force = (alpha: number) => {\n    nodes.forEach((node) => {\n      // How far along the y-axis the node should be, on a scale of 0-1\n      const proportion = (node.born - earliestYear) / (latestYear - earliestYear);\n      // Now scale that proportion to an absolute position based on height\n      const position = proportion * height;\n      // Now, set the velocity toward the position, based on current position, alpha, and strength\n      node.vy! += (position - node.y!) * alpha * strength;\n    });\n  };\n\n  force.initialize = (inputNodes: Person[]) => {\n    nodes = inputNodes;\n    // The earliest year is the earliest birth date of a monarch, with 100 years' padding\n    earliestYear = Math.min(...nodes.map((node) => node.born)) - 100;\n    // The latest year is the latest birth date of a monarch, with 100 years' padding\n    latestYear = Math.max(...nodes.map((node) => node.born)) + 100;\n  };\n\n  force.strength = (newVal: number) => {\n    strength = newVal;\n  };\n\n  return force;\n}\n\n/**\n * An async function that fetches and returns data for the simulation\n * @param {string} url - the url from which to fetch the data\n * @return {Promise<DataSchema>} - the data\n */\nexport async function fetchData(url: string): Promise<DataSchema> {\n  const response = await fetch(url);\n  const text = await response.text();\n  return await load(text) as DataSchema;\n}\n","import React, { useEffect, useState, useMemo } from 'react';\nimport {\n  forceSimulation,\n  forceLink,\n  forceManyBody,\n  forceX\n} from 'd3-force';\nimport { flatMap } from 'lodash';\nimport {\n  Person, PersonLink, Reign, Color, Config, DataSchema\n} from '../utils/types';\nimport { ageOrdering } from '../utils/util';\nimport { join } from 'path';\n\ninterface PersonSVGProps {\n  person: Person;\n  radius: number;\n  reignColors: Record<Reign, Color>;\n}\nfunction PersonSVG({ person, radius, reignColors }: PersonSVGProps) {\n  const {\n    name, country, reign, x, y\n  } = person;\n  const id = useMemo(() => name.replaceAll(/\\s+/g, '_'), []);\n\n  return (\n    <g>\n      <clipPath id={`${id}-mask`}>\n        <circle r={radius} cx={x!} cy={y!} />\n      </clipPath>\n      <image\n        key={id}\n        href={join(process.env.PUBLIC_URL, `flags/${country}.svg`)}\n        x={x! - 2 * radius}\n        y={y! - radius}\n        height={radius * 2}\n        clipPath={`url(#${id}-mask)`}\n      />\n      <circle\n        r={radius}\n        cx={x!}\n        cy={y!}\n        stroke={reign ? reignColors[reign] : reignColors.none}\n        strokeWidth='4px'\n        fillOpacity='0'\n        id={id}\n      />\n      <text\n        x={x}\n        y={y! - (1.2 * radius)}\n        textAnchor='middle'\n        stroke='#fff'\n        strokeWidth='0.5'\n        strokeOpacity='0.6'\n        fill='#000'\n        fontSize='16px'\n      >\n        {name}\n      </text>\n    </g>\n  );\n}\n\ninterface PersonLinkSVGProps {\n  link: PersonLink;\n}\nfunction PersonLinkSVG({ link }: PersonLinkSVGProps) {\n  return (\n    <line\n      x1={(link.source as Person).x}\n      y1={(link.source as Person).y}\n      x2={(link.target as Person).x}\n      y2={(link.target as Person).y}\n      stroke='#999'\n      strokeOpacity='0.6'\n      strokeWidth='10'\n    />\n  );\n}\n\ninterface TreeProps {\n  // TODO have this be nodes instead\n  data: DataSchema;\n  config: Config;\n}\nfunction Tree({\n  data: { people, colors },\n  config: { width, height, radius, countries, before, since }\n}: TreeProps) {\n  const [simulation] = useState(forceSimulation<Person>().stop());\n  // Have nodes and links be state variables so we can update them\n  const [nodes, setNodes] = useState<Person[]>([]);\n  const [links, setLinks] = useState<PersonLink[]>([]);\n\n  // The drag state is two offsets and the person being dragged, or null\n  const [drag, setDrag] = useState<[number, number, Person] | null >(null);\n\n  useEffect(() => {\n    // We only make selectedPeople mutable because we will re-set it several times in the\n    // subsequent wave of filters\n    let selectedPeople = people;\n    if (before) {\n      // If before is defined, only include people born up to (and including) the date\n      selectedPeople = selectedPeople.filter(person => person.born <= before);\n    }\n    if (since) {\n      // If since is defined, only include people born since the date\n      selectedPeople = selectedPeople.filter(person => person.born >= since);\n    }\n    selectedPeople = selectedPeople\n      // Include the selected countries\n      .filter(person => countries.has(person.country));\n    const computedLinks = flatMap(selectedPeople, (person: Person) => {\n      // Initialize links as familial connections\n      // TODO other kinds of links, such as succession\n      const result = [];\n      // If the person has a defined mother and that mother can be found in selectedPeople...\n      if (person.mother && selectedPeople.find(p=>p.name == person.mother)) {\n        // Add a link between that person and their mother\n        result.push({\n          source: person.name,\n          target: person.mother\n        });\n      }\n\n      // And do the same with father\n      if (person.father && selectedPeople.find(p=>p.name == person.father)) {\n        result.push({\n          source: person.name,\n          target: person.father\n        });\n      }\n\n      return result;\n    });\n\n    // One-time initialization: add simulation nodes and forces\n    simulation.nodes(selectedPeople);\n    simulation\n      .force('charge', forceManyBody().strength(-300))\n      .force('link', forceLink<Person, PersonLink>(computedLinks).id((d) => d.name).strength(0.01))\n      .force('age', ageOrdering(height, 0.1))\n      .force('horizontal-center', forceX(width / 2).strength(0.05));\n    simulation.alphaTarget(0.3).restart();\n\n    setNodes(selectedPeople);\n    setLinks(computedLinks);\n  }, [countries]);\n\n  // On every simulation step, write nodes and links again\n  simulation.on('tick', () => {\n    setNodes([...nodes]);\n    setLinks([...links]);\n  });\n\n  return (\n    <svg\n      width={width}\n      height={height}\n      style={{ border: '1px solid black' }}\n      onMouseMove={(e) => {\n        if (drag) {\n          const [offsetX, offsetY, person] = drag;\n        person.fx! = e.clientX + offsetX;\n        person.fy! = e.clientY + offsetY;\n        }\n      }}\n      onMouseUp={() => {\n        if (drag) {\n          const [, , person] = drag;\n          person.fx = person.fy = null;\n          setDrag(null);\n        }\n      }}\n      onMouseLeave={() => {\n        if (drag) {\n          const [, , person] = drag;\n          person.fx = person.fy = null;\n          setDrag(null);\n        }\n      }}\n    >\n      <g>\n        {links.map((link) =>\n        <g key={`link-${(link.source as Person).name}-${(link.target as Person).name}`}>\n          <PersonLinkSVG link={link} />)\n        </g>)}\n      </g>\n      <g>\n        {nodes.map((node) => (\n          <g\n            onMouseDown={(e) => {\n              setDrag([node.x! - e.clientX, node.y! - e.clientY, node]);\n            }}\n            cursor='move'\n            key={`${node.name}-node`}\n          >\n            <PersonSVG person={node} radius={radius} reignColors={colors!.reign} />\n          </g>\n        ))}\n      </g>\n    </svg>\n  );\n}\n\nexport default Tree;\n","import React, { useMemo, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport { DataSchema, Config } from '../utils/types';\nimport { uniq } from 'lodash';\nimport { join } from 'path';\n\ninterface ConfigEditorProps {\n  data: DataSchema;\n  config: Config;\n  submitConfig: (config: Config) => void;\n}\nfunction ConfigEditor({ data: { people }, config, submitConfig }: ConfigEditorProps) {\n  // The list of all countries, derived from the data\n  const countryList = useMemo(() =>\n    uniq(people.map(person => person.country)).sort(),\n    [people]);\n\n  // The config, as currently maintained inside this form\n  const [countries, setCountries] = useState(config.countries);\n  const [before, setBefore] = useState(config.before);\n  const [since, setSince] = useState(config.since);\n\n  return (\n    <Row>\n      <Col>\n        <Form.Label>Countries</Form.Label>\n        {countryList.map(country =>\n          // For each country, show a checkbox for whether that country is included or not\n          <Form.Check\n            type='checkbox'\n            key={`${country}-enabled`}\n            id={`${country}-enabled`}\n            label={country}\n            checked={countries.has(country)}\n            onChange={() => {\n              if (countries.has(country)) {\n                countries.delete(country);\n              } else {\n                countries.add(country);\n              }\n              setCountries(new Set(countries));\n            }}\n          />\n        )}\n      </Col>\n\n      <Col>\n        <Row>\n          <Form.Label>Dates</Form.Label>\n          <Col>\n            <Form.Label>Since</Form.Label>\n            <InputGroup hasValidation>\n              <Form.Control\n                type='number'\n                value={since}\n                onChange={event => setSince(\n                  event.target.value ?\n                  Number(event.target.value) : undefined\n                )}\n              />\n              <InputGroup.Text>CE</InputGroup.Text>\n            </InputGroup>\n          </Col>\n          <Col>\n            <Form.Label>Before</Form.Label>\n            <InputGroup hasValidation>\n              <Form.Control\n                type='number'\n                value={before}\n                onChange={event => setBefore(\n                  event.target.value ?\n                  Number(event.target.value) : undefined\n                )}\n              />\n              <InputGroup.Text>CE</InputGroup.Text>\n            </InputGroup>\n          </Col>\n        </Row>\n      </Col>\n\n      <Button\n        variant='primary'\n        type='submit'\n        onClick={() =>\n          // Then submit the configuration based on current form state\n          submitConfig({\n            ...config,\n            countries: countries,\n            before: before,\n            since: since\n          })\n        }\n      >Apply</Button>\n    </Row>\n  );\n}\n\nexport default ConfigEditor;\n","import React, { useState } from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Tree from './Tree';\nimport ConfigEditor from './ConfigEditor';\nimport { Async } from 'react-async';\nimport { fetchData } from '../utils/util';\nimport { DataSchema, Config } from '../utils/types';\nimport { join } from 'path';\n\nconst defaultConfig: Config = {\n  width: 800,\n  height: 800,\n  radius: 30,\n  countries: new Set([\n    'United Kingdom',\n    'Spain',\n    'German Empire'\n  ]),\n  before: 1985,\n  since: 1800\n}\n\nfunction App() {\n  const [config, setConfig] = useState(defaultConfig);\n\n  return (\n    <Container>\n      <Row>\n        <h1>Hereditary</h1>\n        <hr />\n      </Row>\n        <Async promiseFn={() => fetchData(join(process.env.PUBLIC_URL, 'data.yml'))} >\n          <Async.Fulfilled>\n            {(data: DataSchema) =>\n            <>\n              <Row>\n                <Accordion style={{marginBottom: '5px'}} defaultActiveKey='0'>\n                  <Accordion.Item eventKey='0'>\n                    <Accordion.Header>Options</Accordion.Header>\n                    <Accordion.Body>\n                      <ConfigEditor data={data} config={config} submitConfig={setConfig} />\n                    </Accordion.Body>\n                  </Accordion.Item>\n                </Accordion>\n              </Row>\n              <Row>\n                <Tree data={data} config={config} />\n              </Row>\n            </>\n            }\n          </Async.Fulfilled>\n          <Async.Loading>Loading data...</Async.Loading>\n        </Async>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}